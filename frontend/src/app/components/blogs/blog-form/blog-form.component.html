<div class="container pt-4">
  <div class="d-flex justify-content-between mb-2">
    <h2>Editar Entrada</h2>
  </div>
  <div *ngIf="blog">
    <p-editor
      #editor
      [modules]="module"
      [style]="{'height':'320px'}"
      [(ngModel)]="data"
    >
      <ng-template pTemplate="header"></ng-template>
    </p-editor>
    <div class="d-flex flex-wrap flex-md-nowrap my-2 gap-2 justify-content-start">
      <span class="p-float-label w-100 mt-3">
        <input
          pInputText
          id="title"
          [(ngModel)]="blog.title"
          type="text"
          class="w-100"
        >
        <label class="required" for="title">Título</label>
      </span>
    </div>
    <div class="d-flex flex-wrap gap-2 justify-content-between">
      <div class="d-flex gap-2 align-items-center">
        <div>
          <label class="mx-1">Publicar</label>
          <p-checkbox
            [binary]="true"
            [(ngModel)]="blog.published"
          ></p-checkbox>
        </div>
      </div>
      <div class="d-flex flex-wrap ms-auto gap-2 align-items-center">
        <i
          *ngIf="saveLoading"
          class="pi pi-spin pi-spinner"
          style="font-size: 25px;"
        ></i>
        <button
          pButton
          (click)="onSubmit()"
          [disabled]="isDisabled() || saveLoading"
          label="Guardar"
          class="btn btn-outline-primary"
        ></button>
      </div>
    </div>
    @if (showLink) {
      <a class="link-info float-end mt-2" routerLink="/blogs/{{blog.id}}">Ver entrada</a>
    }
  </div>
</div>
<p-confirmDialog
  header="Confirmación de publicación"
  acceptLabel="Guardar y Publicar"
  rejectLabel="Cancelar"
></p-confirmDialog>
