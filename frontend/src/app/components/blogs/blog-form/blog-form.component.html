<div class="container pt-4">
  <div class="d-flex justify-content-between mb-2">
    <h2>Editar Entrada</h2>
  </div>
  <div *ngIf="!disable">
    <p-editor
      #editor
      [readonly]="disable"
      [modules]="module"
      [style]="{'height':'320px'}"
    >
      <ng-template pTemplate="header"></ng-template>
    </p-editor>
    <div class="d-flex flex-wrap flex-md-nowrap my-2 gap-2 justify-content-start">
      <span class="p-float-label w-100 mt-3">
        <input
          pInputText
          id="title"
          [(ngModel)]="blog.title"
          type="text"
          class="w-100"
        >
        <!--[pKeyFilter]="filter-->
        <label class="required" for="title">nombre-de-la-entrada</label>
      </span>
      <span class="p-float-label w-100 mt-3">
        <p-calendar
          id="cal"
          class="w-100"
          styleClass="w-100"
          [(ngModel)]="blog.endDate"
        ></p-calendar>
        <label class="semi-required" for="cal">Fecha de fin</label>
      </span>
      <span class="p-float-label w-100 mt-3">
        <input
          pInputText
          id="desc"
          [(ngModel)]="blog.description"
          type="text"
          class="w-100"
        >
        <label class="semi-required" for="desc">Título</label>
      </span>
    </div>
    <div class="my-4">
      <span class="p-float-label w-100">
        <input
          pInputText
          id="link"
          class="w-100"
          [(ngModel)]="blog.image"
          type="text"
        >
        <label class="semi-required" for="link">Link de la imagen (4:3)</label>
      </span>
    </div>
    <div class="d-flex flex-wrap gap-2 justify-content-between">
      <div class="d-flex gap-2 align-items-center">
        <div>
          <label class="mx-1">Publicar</label>
          <p-checkbox
            [binary]="true"
            [(ngModel)]="blog.published"
          ></p-checkbox>
        </div>
      </div>
      <div class="d-flex flex-wrap ms-auto gap-2 align-items-center">
        <i
          *ngIf="saveLoading"
          class="pi pi-spin pi-spinner"
          style="font-size: 25px;"
        ></i>
        <button
          pButton
          (click)="showPreview()"
          label="Mostrar Avance"
          class="btn btn-outline-primary"
        ></button>
        <button
          pButton
          (click)="onSubmit()"
          [disabled]="isDisabled() || saveLoading || getterIsLoading"
          label="Guardar"
          class="btn btn-outline-primary"
        ></button>
      </div>
    </div>
    <div #previewer class="ql-viewer my-3" style="width: 100%;" id="converted-view">
      <div class="text-center">
        <i>Aquí se mostrará el avance de como se verá la entrada</i>
      </div>
    </div>
  </div>
  <div *ngIf="disable">
    Ha habido un error
  </div>
</div>
<p-progressSpinner *ngIf="getterIsLoading"></p-progressSpinner>
